# Terraform Setup

## Overview
In this lab, you will set up your local environment for Terraform development. You'll install the AWS CLI and Terraform, configure AWS credentials, and verify everything is working correctly.

## Learning Objectives
- Install AWS CLI on Windows
- Install Terraform on Windows
- Create and configure AWS access keys
- Authenticate to AWS from your terminal
- Verify your setup is working

## Prerequisites
- Windows computer with administrator access
- Internet connection
- AWS Console access (credentials will be provided)
- Visual Studio Code installed
- Git for Windows installed (includes Git Bash)

---

## Part 1: Configure VS Code Terminal

We'll use Git Bash as our terminal throughout this course for better compatibility with Terraform examples.

### Set Git Bash as Default Terminal in VS Code

1. Open **Visual Studio Code**
2. Press `Ctrl + Shift + P` to open the Command Palette
3. Type `Terminal: Select Default Profile` and select it
4. Choose **Git Bash** from the list
5. Close any open terminals and open a new one with `Ctrl + ~`
6. You should see a bash prompt (e.g., `user@computer MINGW64 ~`)

**For the rest of this course, use Git Bash in VS Code for all terminal commands.**

---

## Part 2: Install AWS CLI

The AWS Command Line Interface (CLI) allows you to interact with AWS services from your terminal.

### Check if AWS CLI is Installed

In your **Git Bash terminal** in VS Code, check if AWS CLI is already installed:

```bash
aws --version
```

**If you see a version number** (e.g., `aws-cli/2.x.x`), AWS CLI is already installed. Skip to **Part 3**.

**If you see an error**, proceed with installation below.

### Install AWS CLI on Windows

1. Download the AWS CLI MSI installer:
   - Go to: https://awscli.amazonaws.com/AWSCLIV2.msi

2. Run the downloaded MSI installer
3. Follow the installation wizard:
   - Click **Next**
   - Accept the license agreement
   - Click **Next** and then **Install**
   - Click **Finish** when complete

4. Add AWS CLI to Git Bash PATH:

   In your **Git Bash terminal** in VS Code, run:
   
   ```bash
   echo 'export PATH="$PATH:/c/Program Files/Amazon/AWSCLIV2"' >> ~/.bashrc
   source ~/.bashrc
   ```

5. Verify installation:
   ```bash
   aws --version
   ```

   You should see output like: `aws-cli/2.x.x Python/3.x.x Windows/10 exe/AMD64`

---

## Part 3: Install Terraform

Terraform is the infrastructure-as-code tool we'll use throughout this course.

### Check if Terraform is Installed

In your **Git Bash terminal** in VS Code, check if Terraform is already installed:

```bash
terraform version
```

**If you see a version number** (e.g., `Terraform v1.x.x`), Terraform is already installed. Skip to **Part 4**.

**If you see an error**, proceed with installation below.

### Install Terraform on Windows

1. Download Terraform:
   - Go to: https://developer.hashicorp.com/terraform/install
   - Click **Windows** under Binary Download
   - Download the AMD64 zip file

2. Extract the ZIP file:
   - Right-click the downloaded ZIP file
   - Select **Extract All**
   - Extract to `C:\Program Files\Terraform\` (create the Terraform folder)
   - You should have `C:\Program Files\Terraform\terraform.exe`

3. Add Terraform to Git Bash PATH:

   In your **Git Bash terminal** in VS Code, run:
   
   ```bash
   echo 'export PATH="$PATH:/c/Program Files/Terraform"' >> ~/.bashrc
   source ~/.bashrc
   ```

4. Verify installation:
   ```bash
   terraform version
   ```

   You should see output like: `Terraform v1.x.x`

---

## Part 4: Create AWS Access Keys

### Access AWS Console and IAM

1. In a browser, log into the **AWS Console** using the credentials in the spreadsheet from the main lab page
2. Search for **IAM** in the search bar and click **IAM**
3. Click **Users**
4. Click **autodev-admin**
5. Click **Security Credentials**

### Create Access Keys

1. Scroll down to **Access Keys**
2. Click **Actions → Delete** and **Deactivate and Delete any existing keys**
3. Click **Create access key**
4. Select **Command Line Interface (CLI)**
5. Check the confirmation box at the bottom of the page and click **Next**
6. Skip the description and click **Create access key**

### Save Your Access Keys

**IMPORTANT:** Copy the **Access key** and **Secret access key** and save them. You can optionally download the CSV file for easy reference.

---

## Part 5: Configure AWS CLI

### Run AWS Configure

In your **Git Bash terminal** in VS Code, run:

```bash
aws configure
```

Supply the required information:
- **AWS Access Key ID**: Paste your access key
- **AWS Secret Access Key**: Paste your secret access key  
- **Default region name**: `us-west-1`
- **Default output format**: Press Enter for default

---

## Part 6: Verify AWS Authentication

### Test AWS CLI

In your **Git Bash terminal** in VS Code, run:

```bash
aws sts get-caller-identity
```
```

You should see output similar to:
```json
{
    "UserId": "AIDA...",
    "Account": "123456789012",
    "Arn": "arn:aws:iam::123456789012:user/autodev-admin"
}
```

You should see your account information returned.

---

## Congratulations!

You have successfully:
- ✅ Configured Git Bash as your VS Code terminal
- ✅ Installed AWS CLI on Windows
- ✅ Installed Terraform on Windows
- ✅ Created AWS access keys
- ✅ Configured AWS CLI with your credentials
- ✅ Verified authentication to AWS

You're now ready to begin Lab 1.1 - Creating your first Terraform resource!



